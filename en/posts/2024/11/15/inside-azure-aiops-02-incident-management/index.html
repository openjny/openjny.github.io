<!doctype html><html lang=en><head><title>Inside Azure AIOps #2: Incident Management · /etc/openjny
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Junya Yamaguchi (@openjny)"><meta name=description content="This article is the second installment in the 'Inside Azure AIOps' series. This time, I will dive in how Microsoft's been advancing incident management with AIOps."><meta name=keywords content="Azure,AIOps,Incident Management,SRE,DevOps,AI"><meta name=twitter:card content="summary"><meta name=twitter:title content="Inside Azure AIOps #2: Incident Management"><meta name=twitter:description content="This article is the second installment in the 'Inside Azure AIOps' series. This time, I will dive in how Microsoft's been advancing incident management with AIOps."><meta property="og:url" content="https://openjny.github.io/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/"><meta property="og:site_name" content="/etc/openjny"><meta property="og:title" content="Inside Azure AIOps #2: Incident Management"><meta property="og:description" content="This article is the second installment in the 'Inside Azure AIOps' series. This time, I will dive in how Microsoft's been advancing incident management with AIOps."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-15T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-15T00:00:00+00:00"><meta property="article:tag" content="AIOps"><meta property="article:tag" content="SRE"><meta property="article:tag" content="DevOps"><meta property="og:see_also" content="https://openjny.github.io/en/posts/2024/11/11/inside-azure-aiops-01-introduction/"><link rel=canonical href=https://openjny.github.io/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.140953f60ced76bc313e5d112c66fd4eb9df859f9cbc71a559db3d781dadcc70.css integrity="sha256-FAlT9gztdrwxPl0RLGb9TrnfhZ+cvHGlWds9eB2tzHA=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://openjny.github.io/en/>/etc/openjny
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/en/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/en/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/en/categories/>Categories</a></li><li class=navigation-item><a class=navigation-link href=/en/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/en/about-me/>About Me</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=/posts/2024/11/15/inside-azure-aiops-02-incident-management/>🇯🇵</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://openjny.github.io/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/>Inside Azure AIOps #2: Incident Management</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2024-11-15T00:00:00Z>November 15, 2024
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
32-minute read</span></div><div class=categories><i class="fa-solid fa-folder" aria-hidden=true></i>
<a href=/en/categories/azure/>Azure</a></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/en/tags/aiops/>AIOps</a>
</span><span class=separator>•</span>
<span class=tag><a href=/en/tags/sre/>SRE</a>
</span><span class=separator>•</span>
<span class=tag><a href=/en/tags/devops/>DevOps</a></span></div></div></header><div class=post-content><p>This article is the second installment in the &ldquo;Inside Azure AIOps&rdquo; series. This time, I will dive in how Microsoft&rsquo;s been advancing incident management with AIOps.</p><div class="notice info"><div class=notice-title><i class="fa-solid fa-exclamation-circle" aria-hidden=true></i>Series</div><div class=notice-content><ul><li><a href=https://openjny.github.io/en/posts/2024/11/11/inside-azure-aiops-01-introduction/ class=external-link target=_blank rel=noopener>Inside Azure AIOps #1: Introduction</a></li><li><a href=https://openjny.github.io/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/ class=external-link target=_blank rel=noopener>Inside Azure AIOps #2: Incident Management</a></li><li>Inside Azure AIOps #3: Resource Management</li></ul></div></div><h2 id=incident-management-and-aiops>Incident Management and AIOps
<a class=heading-link href=#incident-management-and-aiops><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=what-is-incident-management>What is Incident Management?
<a class=heading-link href=#what-is-incident-management><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Incident Management is the process of promptly and effectively resolving issues that occur within systems or services. It not only involves resolving the incidents but also identifying their root causes and taking measures to prevent future incidents. Therefore, incident management is an continuous effort and is recognized as a critical process in IT service management.</p><p>The typical lifecycle of an incident is as follows:</p><figure><img src=/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/icm-flow.en.png alt="Incident management steps"><figcaption><p>Incident management steps</p></figcaption></figure><table><thead><tr><th style=text-align:left><strong>Step</strong></th><th style=text-align:left><strong>Description</strong></th></tr></thead><tbody><tr><td style=text-align:left><strong>Prediction</strong></td><td style=text-align:left>Predicts the occurrence of failures based on observational data. Measures are taken to prevent predicted failures in advance, or plans are prepped to respond if the failure occurs.</td></tr><tr><td style=text-align:left><strong>Detection</strong></td><td style=text-align:left>Detects ongoing incidents. Incidents are identified through various means such as user reports, monitoring system alerts, and log analysis.</td></tr><tr><td style=text-align:left><strong>Triage</strong></td><td style=text-align:left>Evaluates the severity and impact of the detected incidents, and assigns priorities (priority levels). Additionally, service teams or on-call engineers (OCE) are allocated to resolve the incidents.</td></tr><tr><td style=text-align:left><strong>Diagnosis</strong></td><td style=text-align:left>Collects information to consider mitigation strategies. In this step, it is crucial to quickly understand the incident situation, without necessarily identifying the root cause.</td></tr><tr><td style=text-align:left><strong>Mitigation</strong></td><td style=text-align:left>Takes and implements measures to return the system to a stable state. Various methods such as rollback of settings and system reboots are utilized to mitigate the incident.</td></tr><tr><td style=text-align:left><strong>Root Cause Analysis (RCA)</strong></td><td style=text-align:left>Identifies the root cause of the incident by investigating monitoring data and codebases. Measures are also taken to prevent the recurrence of the same incident.</td></tr><tr><td style=text-align:left><strong>Resolution</strong></td><td style=text-align:left>Confirms that the root cause has been resolved through actions like hardware replacement, patch application, or configuration changes, and then closes the incident.</td></tr></tbody></table><div class="notice info"><div class=notice-title><i class="fa-solid fa-exclamation-circle" aria-hidden=true></i>Info</div><div class=notice-content><p>Incidents can occur due to various factors such as hardware failures, software bugs, or incorrect user operations. It&rsquo;s important to note that incidents and failures are often confused, but they are distinct concepts. A failure refers to the state where a system&rsquo;s functionality is not operating correctly, while an incident refers to a state where the user is affected.</p><p>However, in the context of AIOps, incidents and failures are often not clearly distinguished. This is likely because the primary concern is the normality/abnormality of the system state rather than the presence or absence of user impact. Therefore, in this article as well, we will not particularly differentiate between incidents and failures.</p></div></div><h3 id=tasks-covered-by-aiops>Tasks Covered by AIOps
<a class=heading-link href=#tasks-covered-by-aiops><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Essentially, the tasks addressed by AIOps correspond to the steps in incident management. For example, detecting early signs of a disk failure tackles the &ldquo;Prediction&rdquo; problem. However, even if the focus is on a specific step, it often covers multiple steps in practice. For instance, if the goal is the automation of &ldquo;Mitigation,&rdquo; the design typically takes into account the &ldquo;Diagnosis&rdquo; phase too.</p><p>Plus, AIOps also handles more general tasks, such as:</p><ul><li><strong>Data Preprocessing</strong>: Preprocessing monitoring data to derive important insights (e.g., log filtering, missing data imputation).</li><li><strong>Incident Correlation</strong>: Discovering similar incidents (e.g., pre-preparation for triage, aggregating support requests stemming from the same failure).</li><li><strong>Automation</strong>: Streamlining various operations into pipelines for automatic control (e.g., automated execution of troubleshooting tools).</li><li><strong>User Experience</strong>: Designing a UX that is easy for incident responders to understand (e.g., summarizing failure details using LLMs, establishing verification steps through Human-in-the-Loop).</li><li><strong>Visualization</strong>: Visualizing data for an intuitive understanding of the system status.</li></ul><h3 id=common-metrics-kpis>Common Metrics (KPIs)
<a class=heading-link href=#common-metrics-kpis><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>The metrics used in incident management include the following:</p><table><thead><tr><th style=text-align:left>Metric</th><th style=text-align:left>Full Name</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><strong>MTTD</strong></td><td style=text-align:left>Mean Time to Detect</td><td style=text-align:left>Average time from the occurrence of an incident to its detection</td></tr><tr><td style=text-align:left><strong>MTTT</strong></td><td style=text-align:left>Mean Time to Triage</td><td style=text-align:left>Average time from the detection of an incident to its assignment to the appropriate responder</td></tr><tr><td style=text-align:left><strong>MTTM</strong></td><td style=text-align:left>Mean Time to Mitigate</td><td style=text-align:left>Average time from the detection of an incident to its mitigation</td></tr><tr><td style=text-align:left><strong>MTTR</strong></td><td style=text-align:left>Mean Time to Resolve</td><td style=text-align:left>Average time from the detection of an incident to its resolution</td></tr><tr><td style=text-align:left><strong>COGS</strong></td><td style=text-align:left>Cost of Goods Sold</td><td style=text-align:left>Indicates the direct costs related to delivering a product or service, used in profit margin calculations</td></tr></tbody></table><p>Ultimately, AIOps aims to improve the same metrics, targeting enhancements in indicators like MTTD and MTTM. However, when machine learning models are employed, their predictive performance is also a crucial metric.</p><h2 id=incident-management-at-microsoft>Incident Management at Microsoft
<a class=heading-link href=#incident-management-at-microsoft><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>In Microsoft&rsquo;s production environments, incident management follows similar steps described eariler. The overview of an incident&rsquo;s life cycle from detection (prediction) to resolution is as follows.</p><figure><img src=/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/icm-flow-in-microsoft.en.png alt="Incident Management process in production systems at Microsoft"><figcaption><p>Incident Management process in production systems at Microsoft</p></figcaption></figure><p>Incidents are created in response to reports from either users or monitoring systems. All incidents are centrally managed by the Incident Management System (IcM). In IcM, not only are the attributes and descriptions of incidents recorded, but discussions among engineers are also exchanged. Incidents with high priority are promptly assigned to an on-call engineer (OCE), who plays a main role in mitigation. After the symptoms are alleviated, the incident is handed over to a service team for root cause analysis (RCA) and resolution.</p><p>AIOps primarily targets the optimization of monitoring systems and IcM systems. The focus is on improving prediction accuracy, preventing false detections and missed detections, and providing more accurate diagnostic information, thereby speeding up the time to mitigation and resolution.</p><p>For those interested in more details, please refer to the following papers:</p><ul><li><a href=https://www.microsoft.com/en-us/research/publication/an-empirical-investigation-of-incident-triage-for-online-service-systems/ class=external-link target=_blank rel=noopener>An Empirical Investigation of Incident Triage for Online Service Systems - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/publication/identifying-linked-incidents-in-large-scale-online-service-systems/ class=external-link target=_blank rel=noopener>Identifying linked incidents in large-scale online service systems - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/publication/towards-intelligent-incident-management-why-we-need-it-and-how-we-make-it/ class=external-link target=_blank rel=noopener>Towards intelligent incident management: why we need it and how we make it - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/publication/what-bugs-cause-production-cloud-incidents/ class=external-link target=_blank rel=noopener>What bugs cause production cloud incidents? - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/publication/fast-outage-analysis-of-large-scale-production-clouds-with-service-correlation-mining/ class=external-link target=_blank rel=noopener>Fast Outage Analysis of Large-scale Production Clouds with Service Correlation Mining - Microsoft Research</a></li><li><a href=https://dl.acm.org/doi/10.1145/3663529.3663861 class=external-link target=_blank rel=noopener>X-Lifecycle Learning for Cloud Incident Management using LLMs | Companion Proceedings of the 32nd ACM International Conference on the Foundations of Software Engineering</a></li></ul><h2 id=how-microsoft-leverages-aiops-in-incident-management>How Microsoft Leverages AIOps in Incident Management
<a class=heading-link href=#how-microsoft-leverages-aiops-in-incident-management><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Now, we all set to dive into the main topic. I&rsquo;ll explore the various technologies that have been developed and implemented within Microsoft.</p><h3 id=a-new-mitigation-paradigm-through-failure-prediction>A New Mitigation Paradigm through Failure Prediction
<a class=heading-link href=#a-new-mitigation-paradigm-through-failure-prediction><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><blockquote><p>&ldquo;An ounce of prevention is worth a pound of cure.&rdquo;
—— Benjamin Franklin</p></blockquote><p>By catching early signs of anomalies before failures occur, we can significantly reduce user impact and improve reliability.</p><p>This is precisely why Microsoft has invested years in predictive failure technologies. The initial targets were baremetal servers hosting VMs (nodes) and the disks attached with those nodes, as they are some of the most critical resources to keep VMs running.</p><figure><img src=/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/node-disk-prediction.en.png alt="Node Failure Prediction and Disk Failure Prediction"><figcaption><p>Node Failure Prediction and Disk Failure Prediction</p></figcaption></figure><ul><li><strong>Node Failure Prediction</strong>: In 2018, the node failure prediction system &ldquo;MING&rdquo; was introduced<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. MING stands out by combining deep neural networks with traditional machine learning models, allowing it to handle both temporal data and topological information simultaneously. Data shows that for the top nodes predicted to have high failure rates by MING, 60% failed the next day. Additionally, continuous improvement of node failure prediction models through a method called &ldquo;Uptake&rdquo; was developed by 2024<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</li><li><strong>Disk Failure Prediction</strong>: In 2018, the disk failure prediction system &ldquo;CDEF,&rdquo; leveraging SMART data, was deployed<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>, and it was refined into &ldquo;NTAM&rdquo; in 2021<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>. NTAM improves accuracy by processing information from multiple disks collectively, not just individually. This process has incorporated feature generation techniques using neural networks<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> and methodologies using reinforcement learning to address imbalanced training data<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>.</li></ul><p>Node and disk failure predictions enable <strong>proactive mitigation actions</strong> based on forecasts. For example, Azure&rsquo;s virtualization platform offers <a href=https://learn.microsoft.com/en-us/azure/virtual-machines/maintenance-and-updates#live-migration class=external-link target=_blank rel=noopener>live migration</a> that allows VMs on faulty nodes to be moved to healthy ones, minimizing impact (Note: the blackout period is usually just a few seconds<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>).</p><p>As a result, a new Azure virtualization platform management system called &ldquo;Narya&rdquo; was introduced in 2020, premised on predictive mitigation<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup><sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup>.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/naraya-architecture.png alt="Architecture of Narya"><figcaption><p>Architecture of Narya</p></figcaption></figure><p>One of the problems Narya addresses is the learning of action policies. It needs mechanisms that adapt behavior depending on the situation (e.g., predicted failure probability, the component where a failure might occur, the number of virtual machines hosted), and that make adjustments from results. This type of problems has been studied within the realm of reinforcement learning, specifically <a href=https://en.wikipedia.org/wiki/Multi-armed_bandit class=external-link target=_blank rel=noopener>Multi-Armed Bandit</a>.</p><p>These cumulative efforts significantly contribute to reducing VM interruption events and enhancing the reliability of the Azure platform. In terms of AIR (Annual Interruption Rate)<sup id=fnref:10><a href=#fn:10 class=footnote-ref role=doc-noteref>10</a></sup>, Narya has successfully achieved a 26% improvement over a static action policy.</p><p>Lastly, inspired by Narya&rsquo;s success, a similar orchestration system called &ldquo;F3&rdquo; was also developed<sup id=fnref:11><a href=#fn:11 class=footnote-ref role=doc-noteref>11</a></sup>. F3 integrates necessary features for proactive mitigation such as drift monitoring, pre-processing log data, augumentating imbalanced data, and learning action policies based on Reinforcement Learning techniques.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>By utilizing node/disk failure prediction and the Narya management system powered by Reinforcement Learning techniques, Microsoft has significantly reduced VM interuptions and enhanced the reliability of the Azure platform.</div></div><h3 id=quality-assurance-for-gpu-nodes>Quality Assurance for GPU Nodes
<a class=heading-link href=#quality-assurance-for-gpu-nodes><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Recently, Microsoft has been doubling down its AI infrastructure, which includes components like GPUs, NPUs, and high-speed interconnects<sup id=fnref:12><a href=#fn:12 class=footnote-ref role=doc-noteref>12</a></sup><sup id=fnref:13><a href=#fn:13 class=footnote-ref role=doc-noteref>13</a></sup><sup id=fnref:14><a href=#fn:14 class=footnote-ref role=doc-noteref>14</a></sup><sup id=fnref:15><a href=#fn:15 class=footnote-ref role=doc-noteref>15</a></sup>.</p><p>As implementing it, Microsoft has faced a unique set of challenges, one of wich is that GPU nodes are prone to failures. The potential causes for these failures may include:</p><ul><li>📉 <strong>Hardware Regression</strong>: AI-centric processors are released every 1-2 years, and there might not be enough regression testing conducted. Simple micro-benchmarks (e.g., <a href=https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html class=external-link target=_blank rel=noopener>GEMM</a>, <a href=https://docs.nvidia.com/deeplearning/nccl/user-guide/docs/index.html class=external-link target=_blank rel=noopener>NCCL Tests</a>) might not catch all regressions that manifest only under specific workloads.</li><li>⚖️ <strong>Differences in Environments</strong>: The conditions in vendor test environments differ from those in cloud data centers, particularly regarding factors like power and temperature. For example, Microsoft&rsquo;s data centers have observed that the number of abnormal InfiniBand links, exceeding the bit error rate required by the specification (10E-12), is 35 times higher in tropical regions. As such, environments play a huge role in diverse failure patterns.</li><li>👶🏻 <strong>Immature Software Stacks</strong>: As hardware evolves, the application layers need to be updated as well. Software stacks like CUDA or ROCm release new versions every few months, making it challenging to maintain a highly reliable stack.</li></ul><p>Moreover, the nature of AI infrastructure, with high redundancy across various layers (e.g., row-remapping in NVIDIA GPUs<sup id=fnref:16><a href=#fn:16 class=footnote-ref role=doc-noteref>16</a></sup>), often leads to gray failures and complex and time-consuming troubleshooting.</p><div class="notice info"><div class=notice-title><i class="fa-solid fa-exclamation-circle" aria-hidden=true></i>Info</div><div class=notice-content>A <a href=https://www.usenix.org/conference/srecon24americas/presentation/li class=external-link target=_blank rel=noopener>gray failure</a> refers to partial failures that are so subtle they are hard to detect. Fault-tolerant systems have redundancy measures to handle partial failures. In the event of a partial failure, the system might switch to a degraded mode where performance and availability are not fully maintained. If the monitoring systems or applications can detect performance degradation, they can explore mitigations, thus limiting the risk. However, if the failure is too subtle to detect, the state of &ldquo;it should be fine, but isn’t&rdquo; persists, potentially escalating into a cascading failure. Sometimes it&rsquo;s called <a href=https://dl.acm.org/doi/10.1145/2523616.2523627 class=external-link target=_blank rel=noopener>Limplock</a> when focusing on its performance degradation aspect.</div></div><p>Thus, it is preferred to prevent failures before they occur, one method being <strong>Quality Assurance (QA)</strong>. QA involves running benchmark tests to check the health of nodes before they are deployed in production. However, given the countless AI workload patterns and the high cost of infrastructure, running comprehensive benchmark tests is impractical.</p><p>This is where <strong>&ldquo;SuperBench&rdquo;</strong><sup id=fnref:17><a href=#fn:17 class=footnote-ref role=doc-noteref>17</a></sup> comes into play. It is a system introduced in 2024, designed to effectively eliminate aberrant GPU nodes before deploying them, through a combination of machine learning and benchmarking.</p><figure><img src=/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/superbench-architecture.en.png alt="SuperBench Execution Flow"><figcaption><p>SuperBench Execution Flow</p></figcaption></figure><p>Given some nodes to be tested, SuperBench first predicts the risk of failure with a statistical model called Cox-Time. If the risk is deemed high, the system selects the most appropriate set of benchmarks to identify potential node issues. While it is not trivial to select the thresholds for each benchmark, SuperBench uses machine learning models to derive baseline values. It then evaluates the benchmark results for anomalies and outputs a final decision (go/no-go for each node).</p><p>SuperBench is already operational in Azure&rsquo;s production environment and has identified issues in approximately 10% of nodes before production deployment within two years of operations.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>SuperBench is a system that predicts and eliminates abnormal GPU nodes before deployment through a mix of machine learning and benchmarking. It has already identified issues in approximately 10% of nodes before production deployment within two years of operations.</div></div><h3 id=practical-alert-system-incorporating-machine-learning>Practical Alert System Incorporating Machine Learning
<a class=heading-link href=#practical-alert-system-incorporating-machine-learning><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Fault detection is a challenging task because there are countless &ldquo;anomalous&rdquo; patterns in a system, making it difficult to accurately define alert rules.</p><p>At Microsoft, despite years of operating online services and continuous efforts, both false positives (detected but did not require action)<sup id=fnref:18><a href=#fn:18 class=footnote-ref role=doc-noteref>18</a></sup> and miss-detections (failures in detecting an issue before it impacts) occur at a consistent frequency<sup id=fnref:19><a href=#fn:19 class=footnote-ref role=doc-noteref>19</a></sup>. Additionally, it was understood that a major reason for detection misses was the inadequacy of alert rules, highlighting the difficulties in defining what constitutes an &ldquo;anomaly.&rdquo;</p><p>Given this backdrop, machine learning approaches have been actively researched, and in recent years, anomaly detection models using deep neural networks for time series data have garnered attention<sup id=fnref:20><a href=#fn:20 class=footnote-ref role=doc-noteref>20</a></sup>. However, despite academic success, these models have not been extensively applied in practice. Microsoft has summarized the reasons for this into the following three points:</p><ul><li><strong>Selection of models and hyperparameters</strong>: The optimal model varies depending on the nature of the time series data, so it is necessary to choose the best model for the workload being monitored. Additionally, the model&rsquo;s hyperparameters need to be determined. When dealing with numerous metrics, manual selection is unrealistic.</li><li><strong>Interpretation of anomalies</strong>: Some fluctuations in metrics might be considered faults, while others might not. Practical fault detection requires a mechanism to identify and manage the waveform patterns considered &ldquo;anomalous&rdquo; from a service perspective, but existing models usually do not provide such interpretability.</li><li><strong>Handling data drift</strong>: Models need to be continually updated as the characteristics of the data change. However, only a limited number of engineers (e.g., data scientists) can retrain the models, and service teams cannot provide feedback.</li></ul><p>To overcome these challenges, a practical metric-based fault detection system called &ldquo;MonitorAssistant&rdquo; was introduced<sup id=fnref:21><a href=#fn:21 class=footnote-ref role=doc-noteref>21</a></sup>.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/monitor-assist-architecture.png alt="Architecture of MonitorAssistant"><figcaption><p>Architecture of MonitorAssistant</p></figcaption></figure><p>MonitorAssistant registers machine learning models in advance like a catalog and suggests the optimal model for a given metric. To enhance model interpretability, it can classify anomaly categories (e.g. sudden spike). Furthermore, service teams can firsthand give feedback through a chatbot (LLM) to adjust the model in case of false detactions or misses, without involving data scientists in the loop.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/monitor-assistant-example.png alt="Example report generated by MonitorAssistant"><figcaption><p>Example report generated by MonitorAssistant</p></figcaption></figure><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>Microsoft has developed MonitorAssistant, a practical metric-based fault detection system that suggests optimal machine learning models for metrics, provides anomaly classification, and allows service teams to adjust models through a chatbot.</div></div><h3 id=exploring-effective-attributes-of-multidimensional-data>Exploring Effective Attributes of Multidimensional Data
<a class=heading-link href=#exploring-effective-attributes-of-multidimensional-data><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>When utilizing metrics, the use of <strong>attributes</strong> (aka dimensions<sup id=fnref:22><a href=#fn:22 class=footnote-ref role=doc-noteref>22</a></sup>) is crucial, as you will end up with different outcomes depending on how to filter metrics on those attributes.</p><p>Consider a management system that collects incident reports from servers worldwide. These reports are tagged with various attributes such as server name, data center name, customer, and country. Suppose a service for educational customers deployed in the 6th data center in India went down.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/effective-attributes.png alt="The number of incidents filtered by attributes (country, customer type, data center) over time"><figcaption><p>The number of incidents filtered by attributes (country, customer type, data center) over time</p></figcaption></figure><p>If you have an appropriate attribute set to filter out as in the figure above, you should be able to clearly see an increase in incidents. However, if you view the same time-series data without filtering by attributes, the incidents reported from all over the world would be leveled out, making it difficult to pinpoint any anomalies.</p><p>Thus, in multivariate data anomaly detection, exploring such an effective set of attributes for filtering is crucial. Typically, this task is performed iteratively by humans, but as the number of attributes grows, it becomes unmanageable due to combinatorial explosion.</p><p>To address this, Microsoft approached the exploration of effective attributes as a tree structure search problem where nodes represent combinations of attributes, and developed an incident detection system called &ldquo;iDice&rdquo;<sup id=fnref:23><a href=#fn:23 class=footnote-ref role=doc-noteref>23</a></sup>. Additionally, in 2020, they tackled a new method (MID) to reduce the search space using metaheuristics<sup id=fnref:24><a href=#fn:24 class=footnote-ref role=doc-noteref>24</a></sup>. These outcomes have been successfully applied in Azure as AiDice<sup id=fnref:25><a href=#fn:25 class=footnote-ref role=doc-noteref>25</a></sup>.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/effective-attributes-fault.png alt="Example of using attribute exploration for fault identification"><figcaption><p>Example of using attribute exploration for fault identification</p></figcaption></figure><p>There&rsquo;s a similar initiative dubbed &ldquo;HALO&rdquo;<sup id=fnref:26><a href=#fn:26 class=footnote-ref role=doc-noteref>26</a></sup>. HALO targets any multidimensional metrics associated with servers (e.g. API call failure counts) and identifies attribute sets where anomalies (server faults) are occurring. What&rsquo;s unique about HALO is it can take into account the topological information of servers in datacenters. HALO has been implemented in Azure&rsquo;s Safe Deployment management system (Gandalf<sup id=fnref:27><a href=#fn:27 class=footnote-ref role=doc-noteref>27</a></sup>) to detect deployment issues when rolling updates or fixes to canary/production environments.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>In the Azure ecosystem, effective attributes (dimensions) are crucial for filtering metrics. Microsoft has developed a system called AiDice to explore effective attributes for incident detection, and HALO to identify attribute sets where anomalies are occurring.</div></div><h3 id=responding-to-outages>Responding to Outages
<a class=heading-link href=#responding-to-outages><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Incidents with a significant impact on a number of services and users are referred to as <strong>outages</strong>, and one of the important steps to tackle them is <strong>identification</strong>. While one can suspect an outage if similar reports come in from multiple users, significant time may have already passed by that time. It is more preffered to systematically detect outages early on, without waiting for user reports.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/airalert-outage.png alt="Left: Bayesian network constructed by AirAlert, Right: Trends of metrics deemed related"><figcaption><p>Left: Bayesian network constructed by AirAlert, Right: Trends of metrics deemed related</p></figcaption></figure><p>To achieve this, the following two siblings were born:</p><ul><li>Microsoft first developed &ldquo;AirAlert,&rdquo; a method for detecting outages using Bayesian networks<sup id=fnref:28><a href=#fn:28 class=footnote-ref role=doc-noteref>28</a></sup>. It applys a causal inference method to model the dependencies between the alerting signals and outage as a directed acyclic graph (DAG). This allows for extracting the set of signals most related to the outage, thus inferring the occurrence of an outage.</li><li>Furthermore, a new detection method called &ldquo;Warden&rdquo; was introduced for the higher accuracy<sup id=fnref:29><a href=#fn:29 class=footnote-ref role=doc-noteref>29</a></sup>. While AirAlert only utilizes the number of alerts when constructing a DAG, Warden can factor in diverse information such as OCEs&rsquo; discussions, achieving substantial performance improvement.</li></ul><p>Once an outage has been identified, engineers move to the investigation phase, for which Microsoft has introduced a supporting tool called &ldquo;Oasis&rdquo; in 2023<sup id=fnref:30><a href=#fn:30 class=footnote-ref role=doc-noteref>30</a></sup>.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/oasis-overview.png alt="Flow of Oasis scoping and summarizing an outage"><figcaption><p>Flow of Oasis scoping and summarizing an outage</p></figcaption></figure><p>Oasis is a system that identifies the impact scope of an outage by linking relevant incidents and generates summaries using LLMs. Oasis enhances accuracy by using three different linking methods in combination:</p><ul><li><strong>Rule-based linking</strong>: Leveraging the domain knowledge of engineers</li><li><strong>Component dependency-based linking</strong>: Utilizing service or topological dependencies between components previously associated in past outages</li><li><strong>Machine learning model-based linking</strong>: Employing machine learning models to predict links between incidents, such as LiDAR<sup id=fnref:31><a href=#fn:31 class=footnote-ref role=doc-noteref>31</a></sup> or LinkCM<sup id=fnref:32><a href=#fn:32 class=footnote-ref role=doc-noteref>32</a></sup></li></ul><p>Finally, here is a sample summary generated by Oasis. It provides sufficient information to easily understand the content of the outage, the services impacted, and its severity.</p><blockquote><p><strong>Outage Summary by Oasis</strong>: The API failed with HTTP 5xx errors (over 𝛼_1 fall failures) because of bad gateway errors to the endpoint_1. Due to this issue, commercial customers could not sign-up for System-Cloud or SystemProductivity via endpoint_2 or endpoint_3, and perform management related actions on endpoint_4. Additionally, System-Cloud users were not able to access their billing accounts and invoices on System-Cloud portal. Approximately 𝛼_2 unique users were impacted.</p></blockquote><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>Microsoft has developed Bayesian network-based approaches for outage detection, called AirAlert and Warden, and Oasis for scoping and summarizing outages. Oasis uses a combination of three incident linking methods to enhance accuracy.</div></div><h3 id=improving-triage-efficiency>Improving Triage Efficiency
<a class=heading-link href=#improving-triage-efficiency><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Reflecting on the history of incident triage in Microsoft takes us back to the days of online services before Azure&rsquo;s birth (e.g. Office 365, Skype).</p><p>Back then, when an incident was created, the system would make phone calls to multiple on-call engineers. Engineers would manually assess the priority and assign the appropriate response teams<sup id=fnref:33><a href=#fn:33 class=footnote-ref role=doc-noteref>33</a></sup>. This method consumed a lot of engineers&rsquo; efforts and loads, highlighting the need for an automated triage system.</p><p>The first attempt was to repurpose existing methods that automatically assign bug reports to software engineers<sup id=fnref1:33><a href=#fn:33 class=footnote-ref role=doc-noteref>33</a></sup>. While this approach demonstrated some applicability, the fundamental differences between bug reports and online service incidents concluded that a method tailored to online services was necessary. Subsequently, the following endeavors were explored:</p><ul><li><strong>In 2019</strong>: A continuous incident triage system called &ldquo;DeepCT&rdquo; was proposed<sup id=fnref:34><a href=#fn:34 class=footnote-ref role=doc-noteref>34</a></sup>. Considering that the assignment of incidents could occur multiple times as investigations progressed, DeepCT learned from engineers&rsquo; discussions and continuously updated the triage results.</li><li><strong>In 2020</strong>: An improved system over DeepCT, called &ldquo;DeepTriage,&rdquo; was deployed in production<sup id=fnref:35><a href=#fn:35 class=footnote-ref role=doc-noteref>35</a></sup>. While DeepCT relied on a deep neural network to classify the responsible team, DeepTriage enhanced accuracy using an ensemble of multiple models, including LightGBM<sup id=fnref:36><a href=#fn:36 class=footnote-ref role=doc-noteref>36</a></sup> developed by Microsoft.</li><li><strong>In 2020</strong>: A method named &ldquo;DeepIP&rdquo; was proposed to filter out alerts that did not require action (false positives) and adjust their priority<sup id=fnref:37><a href=#fn:37 class=footnote-ref role=doc-noteref>37</a></sup>. In this study, preliminary research revealed that over 30% of the alerts were false positives, and a deep learning-based prioritization was implemented.</li><li><strong>In 2021</strong>: A prediction method called &ldquo;TTMPred&rdquo; was proposed to estimate the time required to mitigate an incident (TTM), enabling appropriate personnel allocation<sup id=fnref:38><a href=#fn:38 class=footnote-ref role=doc-noteref>38</a></sup>. TTMPred used recurrent neural networks (RNNs) to capture the progression of discussions and text information.</li></ul><p>The latest development is the proposal of a new incident triage system called &ldquo;COMET&rdquo; in 2024, which leverages LLMs<sup id=fnref:39><a href=#fn:39 class=footnote-ref role=doc-noteref>39</a></sup>.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/comet-overview.png alt="Architecture of COMET"><figcaption><p>Architecture of COMET</p></figcaption></figure><p>One of COMET&rsquo;s notable features is its effective handling of logs during triage. Logs of components related to the incident contain crucial information needed for triage, but handling these logs with machine learning models requires addressing original challenges such as trimming redundant logs, extracting important keywords, and dealing with data imbalances. COMET tackles these issues using a mix of existing log processing engines and LLMs (w/ In-Context Learning).</p><p>Additionally, COMET provides a feature to report analysis results along with incident triage. In an actual incident management system, analysis results by COMET are presented as follows:</p><figure><img src=/en/posts/2024/11/15/inside-azure-aiops-02-incident-management/comet-example.en.png alt="Report presented to on-call engineers by COMET" height=400><figcaption><p>Report presented to on-call engineers by COMET</p></figcaption></figure><p>This exemplifies how COMET is not just a triage system but also provides critical insights. Performance evaluation has shown a 30% improvement in triage accuracy and up to a 35% reduction in TTM (Time-To-Mitigate). COMET is currently in operational use for internal services offering virtual machines.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>Microsoft has developed a series of incident triage systems, including DeepCT, DeepTriage, DeepIP, TTMPred, and COMET. COMET, the latest system, leverages LLMs and effectively handles logs during triage, providing critical insights to on-call engineers.</div></div><h3 id=linking-associated-incidents>Linking Associated Incidents
<a class=heading-link href=#linking-associated-incidents><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Identifying and linking similar incidents is beneficial in many aspects of incident response. For instance:</p><ul><li>Due to dependencies between services, incidents can cascade and spread across components (known as cascading failure).</li><li>The same issue can trigger mutiple alerts or be reported by multiple customers.</li><li>Related past incidents can provide crucial hints during investigation.</li></ul><p>Microsoft has devised and implemented various methods for incident association.</p><p>In 2020, Microsoft introduced &ldquo;LiDAR,&rdquo; an incident association system for online services inspired by methods used to detect duplicate software bug reports<sup id=fnref1:31><a href=#fn:31 class=footnote-ref role=doc-noteref>31</a></sup>. LiDAR uniquely considers both the textual information of incidents and dependencies between components. Using neural network-based techniques, it extracts features from both sources of information to calculate similarities between incidents.</p><p>The same year, a method called &ldquo;LinkCM&rdquo; was proposed for associating customer-reported incidents (CI) with incidents automatically logged by monitoring systems (MI)<sup id=fnref1:32><a href=#fn:32 class=footnote-ref role=doc-noteref>32</a></sup>. This was motivated by the fact that while 77% of CI had corresponding MI logged beforehand, only about 20% were correctly associated early in the investigation. LinkCM interprets the descriptions in natural language from CI and uses deep learning-based methods to link them with MI.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/dilink-overview.png alt="DiLink Architecture"><figcaption><p>DiLink Architecture</p></figcaption></figure><p>In 2024, a new incident association system called &ldquo;DiLink&rdquo; was proposed, evolving from LiDAR<sup id=fnref2:31><a href=#fn:31 class=footnote-ref role=doc-noteref>31</a></sup>. Both LiDAR and DiLink utilize textual information and dependency graphs between components as features. However, while LiDAR learned these features using separate models, DiLink achieves more accurate, multimodal incident association by handling textual and dependency graph information in a single neural network.</p><h3 id=generation-of-kql-queries>Generation of KQL Queries
<a class=heading-link href=#generation-of-kql-queries><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>In Microsoft&rsquo;s monitoring systems, it&rsquo;s common to issue queries using a domain-specific language called <a href=https://learn.microsoft.com/en-us/kusto/query/ class=external-link target=_blank rel=noopener>Kusto Query Language (KQL)</a>.</p><p>Troubleshooting using KQL is not an easy task. Engineers need to learn the KQL syntax<sup id=fnref:40><a href=#fn:40 class=footnote-ref role=doc-noteref>40</a></sup> and become familiar with the data schema they are looking into. Even with troubleshooting guides, these may be outdated or ineffective for unknown issues. Thus, on-call engineers frequently find themselves having troubles with KQL.</p><p>To address this, a system named <strong>&ldquo;Xpert&rdquo;</strong> was developed to automatically generate KQL queries<sup id=fnref:41><a href=#fn:41 class=footnote-ref role=doc-noteref>41</a></sup>. Integrated into the incident management system, Xpert automatically collects information from similar past incidents and generates new KQL queries based on queries used during previous responses. This generation process leverages the context-based learning capabilities of large language models (LLMs) via few-shot learning.</p><p>Additionally, the generated KQL queries are designed to maximize a unique metric called Xcore, which is a quality evaluation metric for queries (or code) that can be applied to any DSL. It assesses the quality of queries based on multiple perspectives such as syntactic and semantic accuracy, the correctness of tokens and operations, and the comprehensiveness of information necessary for the investigation.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/xpert-overview.png alt="Architecture of Xpert"><figcaption><p>Architecture of Xpert</p></figcaption></figure><p>Xpert adopts an architecture similar to general RAG (Retrieval-Augmented Generation) systems but with a notable post-validation process. In the post-processing phase, the LLM-generated query is validated by parsing to ensure it adheres to KQL syntax. If an incomplete query is generated, the system retries by querying the LLM again for corrections. Moreover, the database that stores incident information and past queries is continuously updated, improving accuracy over time and addressing data drift issues.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>Xpert is a system that automatically generates KQL queries for incident management using LLMs. It leverages context-based learning capabilities and a unique quality evaluation metric called Xcore to ensure the generated queries are accurate and comprehensive.</div></div><h3 id=automating-troubleshooting-guides>Automating Troubleshooting Guides
<a class=heading-link href=#automating-troubleshooting-guides><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>A team at Microsoft working on hybrid cloud products faced challenges with their troubleshooting guides (TSGs): their TSGs were excessively long (a median of 815 words, with some extending up to 5000 words!). While the automation of TSGs was considered, automating codes or scripts requires maintenance with every TSG update. This team had a high frequency of TSG updates, averaging every 19 days, making it difficult to implement full automation.</p><p>To address this, a system named <strong>&ldquo;LLexus&rdquo;</strong> was introduced to interpret and execute TSGs written in natural language, powered by LLMs<sup id=fnref:42><a href=#fn:42 class=footnote-ref role=doc-noteref>42</a></sup>. It is much like the Java runtime, compiling TSGs into the middle language (plans) that can be executed by the LLexus Executor when an incident occurs.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/llexus-overview.png alt="Architecture of LLexus (figure extracted from the paper)"><figcaption><p>Architecture of LLexus (figure extracted from the paper)</p></figcaption></figure><p>An interesting aspect of LLexus is its separation of the <strong>Planner</strong> and <strong>Executor</strong>. When the Planner detects an update to a TSG, it interprets the content with LLMs (combining a technique called Chain of Though) and converts it into an executable plan for the Executor. When an incident occurs and the relevant TSG matches, the plan is executed by the Executor.</p><p>This two phase model reduces the cost of invoking LLMs, as there are a greater number of incidents than TSG updates and LLM calls are only made when a TSG is updated. Moreover, LLexus incorporates a Human-in-the-Loop mechanism, where feedback from engineers is immediately given whenever a plan is created from an updated TSG. Plus, by virtue of the fact that incomprehensible and verbose TSGs are likley to fail in being compilied, engineers are incentivized to create more concise and understandable TSGs, bringing benefits to both the system and the engineers.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>LLexus is a system that interprets and executes troubleshooting guides written in natural language, powered by LLMs. It separates the Planner and Executor, reducing the cost of invoking LLMs and incorporating a Human-in-the-Loop</div></div><h3 id=root-cause-analysis-with-llm>Root Cause Analysis with LLM
<a class=heading-link href=#root-cause-analysis-with-llm><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>A Microsoft team working on an email delivery service, which sends 150 billion messages daily, needed to optimize their root cause analysis flow for the frequently occurring incidents. After analyzing all incidents from a year, they derived the following insights:</p><ul><li><strong>Insight 1</strong>: It is difficult to identify the root cause using a single data source.</li><li><strong>Insight 2</strong>: Incidents stemming from the same or similar root causes have temporal correlations (if they recur, it usually happens within a short timeframe).</li><li><strong>Insight 3</strong>: A significant number of incidents arise from new root causes, with approximately 25% of incidents being novel phenomena.</li></ul><p>Particularly important is Insight 3, indicating that for 25% of incidents, existing troubleshooting guides (TSGs) are not very effective.</p><p>To assist with root cause analysis, an AI-assisted system called <strong>&ldquo;RCACopilot&rdquo;</strong> was developed<sup id=fnref:43><a href=#fn:43 class=footnote-ref role=doc-noteref>43</a></sup>. Despite having &ldquo;Copilot&rdquo; in its name and implying extensive use of LLMs, it is actually a well-designed automation system where LLM only plays a limited role in summarizing logs.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/rcacopilot-overview.png alt="Architecture of RCACopilot"><figcaption><p>Architecture of RCACopilot</p></figcaption></figure><p>The system follows the following stages:</p><ul><li>When RCACopilot recognizes an incident, it starts with the <strong>information gathering stage</strong>.<ul><li>Adhering to Insight 1, it collects information from as many data sources as possible. A predefined logic flow, registered in advance similar to a directed acyclic graph, guides the data collection process (e.g., collect this log, then run this command, then conditionally branch…). Engineers can modify these flows anytime.</li></ul></li><li>After information gathering, the system moves to the <strong>root cause prediction stage</strong>.<ul><li>This stage involves searching for similar past incidents. Embeddings obtained using FastText and the time intervals between incidents (based on Insight 2) are used to compute the similarity between incidents.</li><li>Finally, the system leverages LLM. Since the root causes of past incidents are known, this information is passed as prompts to the LLM, asking, &ldquo;Here are the logs for the current incident, along with logs and root causes of similar past incidents. Please determine which root cause corresponds to the current incident, or state if none apply, with reasons.&rdquo; The response provided by the LLM is output as the final root cause analysis.</li></ul></li></ul><p>As of 2024, RCACopilot has been in use for over four years across more than 30 service teams. Despite defining information gathering flows being somewhat labor-intensive, many on-call engineers (OCEs) reported high satisfaction in surveys. This satisfaction can be attributed to the ability to save and reuse information gathering logic.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>RCACopilot is an AI-assisted system for root cause analysis that leverages LLMs for summarizing logs. It follows a structured flow of information gathering and root cause prediction, with LLMs providing the final root cause analysis.</div></div><h3 id=effective-utilization-of-logs-and-traces>Effective Utilization of Logs and Traces
<a class=heading-link href=#effective-utilization-of-logs-and-traces><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Finally, let me introduce some approaches for utilizing logs. When handling logs in AIOps, you need to address the following challenges:</p><ul><li><strong>Large Data Volume</strong>: The amount of log data generated by monitoring systems can reach hundreds of terabytes per day. To use logs for near-real-time incident response, data processing algorithms and pipeline infrastructures with the same throughput as ingestion are required.</li><li><strong>Difficulty in Parsing Logs</strong>: Parsing logs involves breaking down log messages into the templates and parameters used to generate them. This is akin to predicting the code that produced the message. Effective log parsing requires appropriate log clustering methods.</li><li><strong>Severe Data Imbalance</strong>: Training data for anomaly prediction models needs to include balanced data from both &ldquo;normal&rdquo; and &ldquo;abnormal&rdquo; times. However, abnormal data is typically extremely scarce, necessitating strategies (e.g., sampling) to address this imbalance.</li></ul><p>From the perspective of reducing data volume, <strong>&ldquo;Log2&rdquo;</strong>, presented in 2015, is quite intriguing<sup id=fnref:44><a href=#fn:44 class=footnote-ref role=doc-noteref>44</a></sup>. Log2 provides basic APIs (Begin and End) to measure the execution time of certain processes. This API records data only if the measured time significantly deviates from past measurements, minimizing unnecessary data recording.</p><p>In the following year, an incident linking system called <strong>&ldquo;LogCluster&rdquo;</strong> was introduced and its log processing technique is interesting<sup id=fnref:45><a href=#fn:45 class=footnote-ref role=doc-noteref>45</a></sup>. Assuming that even a vast number of log sequences are actually derived from a limited number of codes, it aggregates logs into clusters (conceputually corresponding to codes) and extracts the representative values of those clusters.</p><p>The idea of clustering logs is also seen in other methods. For example, the 2018 method <strong>&ldquo;Log3C&rdquo;</strong><sup id=fnref:46><a href=#fn:46 class=footnote-ref role=doc-noteref>46</a></sup> and the 2021 method <strong>&ldquo;Onion&rdquo;</strong><sup id=fnref:47><a href=#fn:47 class=footnote-ref role=doc-noteref>47</a></sup> extract log clusters and then apply methods such as correlation analysis and symmetry analysis to detect anomalies and extract anomaly-related log data.</p><figure><img src=/posts/2024/11/15/inside-azure-aiops-02-incident-management/onion-overview.png alt="Onion Architecture"><figcaption><p>Onion Architecture</p></figcaption></figure><p>For log parsing, there are two notable methods introduced in 2022 by Microsoft:</p><ul><li><strong>UniParser</strong>: A log parsing method using deep neural networks<sup id=fnref:48><a href=#fn:48 class=footnote-ref role=doc-noteref>48</a></sup>. It uses an LSTM-based Token Encoder to learn log embeddings while combining contrastive loss with similar and dissimilar logs. This enables the acquisition of embeddings considering the semantics of each token and allows for fast inference.</li><li><strong>SPINE</strong>: A log parsing method designed to be executed in parallel in a distributed computing environment<sup id=fnref:49><a href=#fn:49 class=footnote-ref role=doc-noteref>49</a></sup>. It uses a greedy bin-packing algorithm called &ldquo;BestFit&rdquo; to ensure an even distribution of workload (log sets) to the workers executing the jobs. Additionally, it addresses the diversification of logs driven by recent deployments of CI/CD by designing a model retraining loop based on feedback.</li></ul><p>Lastly, let&rsquo;s also introduce a method that effectively utilizes traces in addition to logs. A trace is a log taken to allow retrospective tracking of events processed across multiple components. &ldquo;TraceLingo,&rdquo; proposed in 2021, leverages the fact that such traces can be represented as call trees (tree structures), using a deep neural network model to identify areas (spans) where anomalies occur<sup id=fnref:50><a href=#fn:50 class=footnote-ref role=doc-noteref>50</a></sup>.</p><div class="notice tip"><div class=notice-title><i class="fa-solid fa-lightbulb" aria-hidden=true></i>Takeaway</div><div class=notice-content>Microsoft has developed various methods for effectively utilizing logs and traces in AIOps. These methods include Log2 for reducing data volume, LogCluster for log clustering, and Onion for log clustering-based anomaly detection. Additionally, UniParser and SPINE were proposed for log parsing, and TraceLingo for trace representation and learning.</div></div><h2 id=approaches-not-fully-covered>Approaches Not Fully Covered
<a class=heading-link href=#approaches-not-fully-covered><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>There are many other approaches that could not be introduced in detail in this article due to various reasons, such as not being explicitly mentioned as deployed in production, being of lower importance, or myself not fully reading them. This list is likely only a portion, but if you are interested, please check them out.</p><table><thead><tr><th style=text-align:left>Year</th><th style=text-align:left>Project Name and Link</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left>2012</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/performance-issue-diagnosis-for-online-service-systems/ class=external-link target=_blank rel=noopener>(Link Only)</a></td><td style=text-align:left>System to detect performance issues in online services using data mining methods</td></tr><tr><td style=text-align:left>2012</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/netpilot-automating-datacenter-network-failure-mitigation/ class=external-link target=_blank rel=noopener>NetPilot</a></td><td style=text-align:left>System to detect and safely automatically mitigate data center network failures</td></tr><tr><td style=text-align:left>2014</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/identifying-recurrent-unknown-performance-issues-2/ class=external-link target=_blank rel=noopener>HMRF</a></td><td style=text-align:left>Method to detect performance issues from metrics</td></tr><tr><td style=text-align:left>2017</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/understanding-mitigating-packet-corruption-data-center-networks/ class=external-link target=_blank rel=noopener>CorrOpt</a></td><td style=text-align:left>Monitoring system for detecting packet corruption in data center networks</td></tr><tr><td style=text-align:left>2017</td><td style=text-align:left><a href=https://arxiv.org/pdf/2406.01842 class=external-link target=_blank rel=noopener>GraphWeaver</a></td><td style=text-align:left>Incident association method implemented in <a href=https://learn.microsoft.com/en-us/defender-xdr/investigate-incidents class=external-link target=_blank rel=noopener>Microsoft Defender XDR</a></td></tr><tr><td style=text-align:left>2018</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/capturing-and-enhancing-in-situ-system-observability-for-failure-detection/ class=external-link target=_blank rel=noopener>Panorama</a></td><td style=text-align:left>Monitoring system to detect partial failures and performance degradations like gray faults and limplock</td></tr><tr><td style=text-align:left>2019</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/cross-dataset-time-series-anomaly-detection-for-cloud-systems/ class=external-link target=_blank rel=noopener>ATAD</a></td><td style=text-align:left>Transfer learning anomaly detection model for telemetry with scarce training data</td></tr><tr><td style=text-align:left>2019</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/zooming-in-on-wide-area-latencies-to-a-global-cloud-provider/ class=external-link target=_blank rel=noopener>BlameIt</a></td><td style=text-align:left>Monitoring system to identify WAN latency issues and their causes (ISP or WAN)</td></tr><tr><td style=text-align:left>2019</td><td style=text-align:left><a href=https://www.usenix.org/conference/nsdi19/presentation/tan class=external-link target=_blank rel=noopener>NetBouncer</a></td><td style=text-align:left>Monitoring system to detect link failures (device failures) within data center networks</td></tr><tr><td style=text-align:left>2019</td><td style=text-align:left><a href=https://arxiv.org/pdf/1906.03821 class=external-link target=_blank rel=noopener>SR-CNN</a></td><td style=text-align:left>Anomaly detection method introduced in Azure AI Service&rsquo;s <a href=https://learn.microsoft.com/en-us/azure/ai-services/anomaly-detector/overview class=external-link target=_blank rel=noopener>Anomaly Detector</a></td></tr><tr><td style=text-align:left>2019</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.5555/3323234.3323252 class=external-link target=_blank rel=noopener>dShark</a></td><td style=text-align:left>Diagnostic tool for capturing packet traces across data center networks</td></tr><tr><td style=text-align:left>2020</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/towards-intelligent-incident-management-why-we-need-it-and-how-we-make-it/ class=external-link target=_blank rel=noopener>BRAIN</a></td><td style=text-align:left>AIOps-centric platform for incident management</td></tr><tr><td style=text-align:left>2020</td><td style=text-align:left><a href=https://dl.acm.org/doi/abs/10.1145/3377813.3381353 class=external-link target=_blank rel=noopener>Decaf</a></td><td style=text-align:left>System to assist triage and initial diagnosis of incidents in Microsoft 365</td></tr><tr><td style=text-align:left>2020</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/an-intelligent-end-to-end-analytics-service-for-safe-deployment-in-large-scale-cloud-infrastructure/ class=external-link target=_blank rel=noopener>Gandalf</a></td><td style=text-align:left>Monitoring system to early detect issues arising from deployments of fixes and updates in Azure platform to prevent impact escalation</td></tr><tr><td style=text-align:left>2020</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/lumos-a-library-for-diagnosing-metric-regressions-in-web-scale-applications/ class=external-link target=_blank rel=noopener>Lumos</a></td><td style=text-align:left>Library to reduce false positives in existing anomaly detection systems and assist in identifying root causes</td></tr><tr><td style=text-align:left>2020</td><td style=text-align:left><a href=https://ieeexplore.ieee.org/document/9338317 class=external-link target=_blank rel=noopener>MTAD-GAT</a></td><td style=text-align:left>Multivariate anomaly detection for time series data using graph neural networks, introduced in Azure AI Service&rsquo;s <a href=https://techcommunity.microsoft.com/blog/azure-ai-services-blog/introducing-multivariate-anomaly-detection/2260679 class=external-link target=_blank rel=noopener>Anomaly Detector</a></td></tr><tr><td style=text-align:left>2021</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3447851.3458737 class=external-link target=_blank rel=noopener>CARE</a></td><td style=text-align:left>Automated RCA system used in Microsoft 365 services</td></tr><tr><td style=text-align:left>2022</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3534678.3539176 class=external-link target=_blank rel=noopener>MTHC</a></td><td style=text-align:left>Method to classify causes of disk failures used in Microsoft 365&rsquo;s disk failure prediction system</td></tr><tr><td style=text-align:left>2022</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/nenya-cascade-reinforcement-learning-for-cost-aware-failure-mitigation-at-microsoft-365/ class=external-link target=_blank rel=noopener>NENYA</a></td><td style=text-align:left>Monitoring system for predictive mitigation and reinforcement learning-based policy adjustment for databases in Microsoft 365</td></tr><tr><td style=text-align:left>2022</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/t-smote-temporal-oriented-synthetic-minority-oversampling-technique-for-imbalanced-time-series-classification/ class=external-link target=_blank rel=noopener>T-SMOTE</a></td><td style=text-align:left>Framework for training time series models aimed at early prediction of far-future anomalies, deployed in Azure and Microsoft 365</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/diffusion-based-time-series-data-imputation-for-cloud-failure-prediction-at-microsoft-365/ class=external-link target=_blank rel=noopener>Diffusion+</a></td><td style=text-align:left>Method for imputing missing data for disk failure prediction in Microsoft 365</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3543873.3584630 class=external-link target=_blank rel=noopener>EDITS</a></td><td style=text-align:left>Curriculum learning method for training failure prediction models, deployed in services of Azure and Microsoft 365</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3580305.3599934 class=external-link target=_blank rel=noopener>HRLHF</a></td><td style=text-align:left>Automated RCA system introduced in Microsoft 365&rsquo;s Exchange services</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/blog/a-fail-in-place-approach-for-sustainable-server-operations/ class=external-link target=_blank rel=noopener>Hyrax</a></td><td style=text-align:left>Fail-in-place paradigm for keeping partially failed servers operational</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/steam-observability-preserving-trace-sampling/ class=external-link target=_blank rel=noopener>STEAM</a></td><td style=text-align:left>Tail sampling method for distributed traces using graph contrastive learning</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3611643.3613864 class=external-link target=_blank rel=noopener>TraceDiag</a></td><td style=text-align:left>Automated RCA system introduced in Microsoft 365&rsquo;s Exchange services</td></tr><tr><td style=text-align:left>2023</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/incident-aware-duplicate-ticket-aggregation-for-cloud-systems/ class=external-link target=_blank rel=noopener>iPACK</a></td><td style=text-align:left>Method to aggregate support tickets for the same issue based on alert information</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/building-ai-agents-for-autonomous-clouds-challenges-and-design-principles/ class=external-link target=_blank rel=noopener>AIOpsLab</a></td><td style=text-align:left>Prototype implementation of an agent-based AIOps platform to streamline incident response</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3663529.3663846 class=external-link target=_blank rel=noopener>Automated Root Causing</a></td><td style=text-align:left>Automated RCA system using context-based learning (ICL) with LLM</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/early-bird-ensuring-reliability-of-cloud-systems-through-early-failure-prediction/ class=external-link target=_blank rel=noopener>Early Bird</a></td><td style=text-align:left>Framework for training time series models aimed at early prediction of far-future anomalies</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3589334.3645710 class=external-link target=_blank rel=noopener>FCVAE</a></td><td style=text-align:left>VAE-based network failure detection</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/flash-a-workflow-automation-agent-for-diagnosing-recurring-incidents/ class=external-link target=_blank rel=noopener>FLASH</a></td><td style=text-align:left>AI agent-based incident management system performing step-by-step troubleshooting</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/imdiffusion-imputed-diffusion-models-for-multivariate-time-series-anomaly-detection/ class=external-link target=_blank rel=noopener>ImDiffusion</a></td><td style=text-align:left>Multivariate time series anomaly detection system using time series imputation and diffusion models for Microsoft&rsquo;s email delivery service</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/netvigil-robust-and-low-cost-anomaly-detection-for-east-west-data-center-security/ class=external-link target=_blank rel=noopener>NetVigil</a></td><td style=text-align:left>Anomaly detection system for east-west data center traffic using graph neural network-based contrastive learning methods</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://dl.acm.org/doi/10.1145/3663529.3663841 class=external-link target=_blank rel=noopener>ReAct</a></td><td style=text-align:left>Prototype RCA diagnosis system using LLM-based AI agents</td></tr><tr><td style=text-align:left>2024</td><td style=text-align:left><a href=https://www.microsoft.com/en-us/research/publication/enhancing-network-failure-mitigation-with-performance-aware-ranking/ class=external-link target=_blank rel=noopener>SWARM</a></td><td style=text-align:left>System for ranking DCN failure mitigation measures based on connection quality (CLP)</td></tr></tbody></table><p>This table includes a variety of advanced, experimental, and lesser-known systems. For full details, please explore the provided links.</p><h2 id=references>References
<a class=heading-link href=#references><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://www.microsoft.com/en-us/research/blog/cloud-intelligence-aiops-infusing-ai-into-cloud-computing-systems/ class=external-link target=_blank rel=noopener>Cloud Intelligence/AIOps – Infusing AI into Cloud Computing Systems - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/blog/building-toward-more-autonomous-and-proactive-cloud-technologies-with-ai/ class=external-link target=_blank rel=noopener>Building toward more autonomous and proactive cloud technologies with AI - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/blog/automatic-post-deployment-management-of-cloud-applications/ class=external-link target=_blank rel=noopener>Automatic post-deployment management of cloud applications - Microsoft Research</a></li><li><a href=https://www.microsoft.com/en-us/research/blog/using-ai-for-tiered-cloud-platform-operation/ class=external-link target=_blank rel=noopener>Using AI for tiered cloud platform operation - Microsoft Research</a></li><li><a href="https://www.youtube.com/watch?v=Ousa2qWQEiQ" class=external-link target=_blank rel=noopener>Episode 459 - AIOps - YouTube (@The Azure Podcast)</a></li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.microsoft.com/en-us/research/publication/predicting-node-failure-in-cloud-service-systems/ class=external-link target=_blank rel=noopener>Predicting Node Failure in Cloud Service Systems - Microsoft Research</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.microsoft.com/en-us/research/publication/can-we-trust-auto-mitigation-improving-cloud-failure-prediction-with-uncertain-positive-learning/ class=external-link target=_blank rel=noopener>Can We Trust Auto-Mitigation? Improving Cloud Failure Prediction with Uncertain Positive Learning - Microsoft Research</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://www.microsoft.com/en-us/research/publication/improving-service-availability-cloud-systems-predicting-disk-error/ class=external-link target=_blank rel=noopener>Improving Service Availability of Cloud Systems by Predicting Disk Error - Microsoft Research</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://www.microsoft.com/en-us/research/publication/ntam-neighborhood-temporal-attention-model-for-disk-failure-prediction-in-cloud-platforms/ class=external-link target=_blank rel=noopener>NTAM: Neighborhood-Temporal Attention Model for Disk Failure Prediction in Cloud Platforms - Microsoft Research</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href="https://ieeexplore.ieee.org/document/8970679?denied=" class=external-link target=_blank rel=noopener>Neural Feature Search: A Neural Architecture for Automated Feature Engineering | IEEE Conference Publication | IEEE Xplore</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://ojs.aaai.org/index.php/AAAI/article/view/17064 class=external-link target=_blank rel=noopener>PULNS: Positive-Unlabeled Learning with Effective Negative Sample Selector | Proceedings of the AAAI Conference on Artificial Intelligence</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7><p><a href=https://azure.microsoft.com/en-us/blog/improving-azure-virtual-machine-resiliency-with-predictive-ml-and-live-migration/ class=external-link target=_blank rel=noopener>Improving Azure Virtual Machine resiliency with predictive ML and live migration | Microsoft Azure Blog</a>&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8><p><a href=https://www.microsoft.com/en-us/research/publication/predictive-and-adaptive-failure-mitigation-to-avert-production-cloud-vm-interruptions/ class=external-link target=_blank rel=noopener>Narya: Predictive and Adaptive Failure Mitigation to Avert Production Cloud VM Interruptions - Microsoft Research</a>&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:9><p><a href=https://azure.microsoft.com/es-es/blog/advancing-failure-prediction-and-mitigation-introducing-narya/ class=external-link target=_blank rel=noopener>Advancing failure prediction and mitigation—introducing Narya | Azure Blog | Microsoft Azure</a>&#160;<a href=#fnref:9 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:10><p>AIR (Annual Interruption Rate) for VM is defined as the average number of interruptive events on 100 VMs over one year.&#160;<a href=#fnref:10 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:11><p><a href=https://www.microsoft.com/en-us/research/publication/f3-fault-forecasting-framework-for-cloud-systems/ class=external-link target=_blank rel=noopener>F3: Fault Forecasting Framework for Cloud Systems - Microsoft Research</a>&#160;<a href=#fnref:11 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:12><p><a href="https://www.youtube.com/watch?v=sgIBC3yWa-M" class=external-link target=_blank rel=noopener>Inside Azure innovations with Mark Russinovich | BRK290HFS</a>&#160;<a href=#fnref:12 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:13><p><a href="https://www.youtube.com/watch?v=ntKZ5CibuIQ" class=external-link target=_blank rel=noopener>Inside Microsoft AI innovation with Mark Russinovich | BRK256</a>&#160;<a href=#fnref:13 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:14><p><a href="https://www.youtube.com/watch?v=l6LptgXMjsY" class=external-link target=_blank rel=noopener>Exploring the Inner Workings of Azures Advanced AI Infrastructure Presented by Microsoft</a>&#160;<a href=#fnref:14 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:15><p><a href=https://azure.microsoft.com/en-us/blog/accelerating-industry-wide-innovations-in-datacenter-infrastructure-and-security/ class=external-link target=_blank rel=noopener>Accelerating industry-wide innovations in datacenter infrastructure and security | Microsoft Azure Blog</a>&#160;<a href=#fnref:15 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:16><p><a href=https://docs.nvidia.com/deploy/a100-gpu-mem-error-mgmt/index.html#row-remapping class=external-link target=_blank rel=noopener>1. Overview — NVIDIA GPU Memory Error Management r555 documentation</a>&#160;<a href=#fnref:16 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:17><p><a href=https://www.microsoft.com/en-us/research/publication/superbench/ class=external-link target=_blank rel=noopener>SuperBench: Improving Cloud AI Infrastructure Reliability with Proactive Validation - Microsoft Research</a>&#160;<a href=#fnref:17 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:18><p><a href=https://www.oreilly.co.jp//books/9784873119847/ class=external-link target=_blank rel=noopener>Anti-Patterns of System Operations - Solving Organizational, Automation, and Communication Problems with DevOps</a>'.&#160;<a href=#fnref:18 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:19><p><a href=https://www.microsoft.com/en-us/research/publication/detection-is-better-than-cure-a-cloud-incidents-perspective/ class=external-link target=_blank rel=noopener>Detection Is Better Than Cure: A Cloud Incidents Perspective - Microsoft Research</a>&#160;<a href=#fnref:19 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:20><p><a href=https://arxiv.org/abs/2308.00393 class=external-link target=_blank rel=noopener>[2308.00393] A Survey of Time Series Anomaly Detection Methods in the AIOps Domain</a>&#160;<a href=#fnref:20 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:21><p><a href=https://www.microsoft.com/en-us/research/publication/monitorassistant-simplifying-cloud-service-monitoring-via-large-language-models/ class=external-link target=_blank rel=noopener>MonitorAssistant: Simplifying Cloud Service Monitoring via Large Language Models - Microsoft Research</a>&#160;<a href=#fnref:21 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:22><p>In the Azure ecosystem, these are referred to as <a href=https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/data-platform-metrics#multi-dimensional-metrics class=external-link target=_blank rel=noopener>dimensions</a>.&#160;<a href=#fnref:22 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:23><p><a href=https://www.microsoft.com/en-us/research/publication/idice-problem-identification-emerging-issues/ class=external-link target=_blank rel=noopener>iDice: Problem Identification for Emerging Issues - Microsoft Research</a>&#160;<a href=#fnref:23 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:24><p><a href=https://www.microsoft.com/en-us/research/publication/efficient-incident-identification-from-multi-dimensional-issue-reports-via-meta-heuristic-search/ class=external-link target=_blank rel=noopener>Efficient incident identification from multi-dimensional issue reports via meta-heuristic search - Microsoft Research</a>&#160;<a href=#fnref:24 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:25><p><a href=https://azure.microsoft.com/en-us/blog/advancing-anomaly-detection-with-aiops-introducing-aidice/ class=external-link target=_blank rel=noopener>Advancing anomaly detection with AIOps—introducing AiDice | Microsoft Azure Blog</a>&#160;<a href=#fnref:25 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:26><p><a href=https://www.microsoft.com/en-us/research/publication/halo-hierarchy-aware-fault-localization-for-cloud-systems/ class=external-link target=_blank rel=noopener>HALO: Hierarchy-aware Fault Localization for Cloud Systems - Microsoft Research</a>&#160;<a href=#fnref:26 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:27><p><a href=https://azure.microsoft.com/en-us/blog/advancing-safe-deployment-with-aiops-introducing-gandalf/ class=external-link target=_blank rel=noopener>Advancing safe deployment with AIOps—introducing Gandalf | Microsoft Azure Blog</a>&#160;<a href=#fnref:27 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:28><p><a href=https://www.microsoft.com/en-us/research/publication/outage-prediction-and-diagnosis-for-cloud-service-systems/ class=external-link target=_blank rel=noopener>Outage Prediction and Diagnosis for Cloud Service Systems - Microsoft Research</a>&#160;<a href=#fnref:28 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:29><p><a href=https://www.microsoft.com/en-us/research/publication/fighting-the-fog-of-war-automated-incident-detection-for-cloud-systems/ class=external-link target=_blank rel=noopener>Fighting the Fog of War: Automated Incident Detection for Cloud Systems - Microsoft Research</a>&#160;<a href=#fnref:29 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:30><p><a href=https://www.microsoft.com/en-us/research/publication/assess-and-summarize-improve-outage-understanding-with-large-language-models/ class=external-link target=_blank rel=noopener>Assess and Summarize: Improve Outage Understanding with Large Language Models - Microsoft Research</a>&#160;<a href=#fnref:30 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:31><p><a href=https://www.microsoft.com/en-us/research/publication/identifying-linked-incidents-in-large-scale-online-service-systems/ class=external-link target=_blank rel=noopener>Identifying linked incidents in large-scale online service systems - Microsoft Research</a>&#160;<a href=#fnref:31 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:31 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref2:31 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:32><p><a href=https://dl.acm.org/doi/10.1145/3368089.3417061 class=external-link target=_blank rel=noopener>Efficient customer incident triage via linking with system incidents | Proceedings of the 28th ACM Joint Meeting on European Software Engineering Conference and Symposium on the Foundations of Software Engineering</a>&#160;<a href=#fnref:32 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:32 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:33><p><a href=https://www.microsoft.com/en-us/research/publication/an-empirical-investigation-of-incident-triage-for-online-service-systems/ class=external-link target=_blank rel=noopener>An Empirical Investigation of Incident Triage for Online Service Systems - Microsoft Research</a>&#160;<a href=#fnref:33 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:33 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:34><p><a href=https://dl.acm.org/doi/10.1109/ASE.2019.00042 class=external-link target=_blank rel=noopener>Continuous incident triage for large-scale online service systems | Proceedings of the 34th IEEE/ACM International Conference on Automated Software Engineering</a>&#160;<a href=#fnref:34 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:35><p><a href=https://dl.acm.org/doi/abs/10.1145/3394486.3403380 class=external-link target=_blank rel=noopener>DeepTriage | Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery & Data Mining</a>&#160;<a href=#fnref:35 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:36><p><a href=https://lightgbm.readthedocs.io/en/stable/ class=external-link target=_blank rel=noopener>Welcome to LightGBM’s documentation! — LightGBM 4.5.0 documentation</a>&#160;<a href=#fnref:36 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:37><p><a href=https://dl.acm.org/doi/10.1145/3324884.3416624 class=external-link target=_blank rel=noopener>How incidental are the incidents? | Proceedings of the 35th IEEE/ACM International Conference on Automated Software Engineering</a>&#160;<a href=#fnref:37 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:38><p><a href=https://www.microsoft.com/en-us/research/publication/how-long-will-it-take-to-mitigate-this-incident-for-online-service-systems/ class=external-link target=_blank rel=noopener>How Long Will it Take to Mitigate this Incident for Online Service Systems? - Microsoft Research</a>&#160;<a href=#fnref:38 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:39><p><a href=https://www.microsoft.com/en-us/research/publication/large-language-models-can-provide-accurate-and-interpretable-incident-triage/ class=external-link target=_blank rel=noopener>Large Language Models Can Provide Accurate and Interpretable Incident Triage - Microsoft Research</a>&#160;<a href=#fnref:39 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:40><p>If you want to learn how to write KQL, &ldquo;Kusto 100 Knocks&rdquo; is recommended. Reference: <a href=https://azure.github.io/fta-kusto100knocks/ class=external-link target=_blank rel=noopener>KUSTO 100+ knocks</a>&#160;<a href=#fnref:40 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:41><p><a href=https://www.microsoft.com/en-us/research/publication/xpert-empowering-incident-management-with-query-recommendations-via-large-language-models/ class=external-link target=_blank rel=noopener>Xpert: Empowering Incident Management with Query Recommendations via Large Language Models - Microsoft Research</a>&#160;<a href=#fnref:41 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:42><p><a href=https://www.microsoft.com/en-us/research/publication/llexus-an-ai-agent-system-for-incident-management/ class=external-link target=_blank rel=noopener>LLexus: an AI agent system for incident management - Microsoft Research</a>&#160;<a href=#fnref:42 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:43><p><a href=https://www.microsoft.com/en-us/research/publication/automatic-root-cause-analysis-via-large-language-models-for-cloud-incidents/ class=external-link target=_blank rel=noopener>Automatic Root Cause Analysis via Large Language Models for Cloud Incidents - Microsoft Research</a>&#160;<a href=#fnref:43 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:44><p><a href=https://www.microsoft.com/en-us/research/publication/log2-cost-aware-logging-mechanism-performance-diagnosis-2/ class=external-link target=_blank rel=noopener>Log2: A Cost-Aware Logging Mechanism for Performance Diagnosis - Microsoft Research</a>&#160;<a href=#fnref:44 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:45><p><a href=https://www.microsoft.com/en-us/research/publication/log-clustering-based-problem-identification-online-service-systems-2/ class=external-link target=_blank rel=noopener>Log Clustering based Problem Identification for Online Service Systems - Microsoft Research</a>&#160;<a href=#fnref:45 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:46><p><a href=https://www.microsoft.com/en-us/research/publication/identifying-impactful-service-system-problems-via-log-analysis/ class=external-link target=_blank rel=noopener>Identifying Impactful Service System Problems via Log Analysis - Microsoft Research</a>&#160;<a href=#fnref:46 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:47><p><a href=https://www.microsoft.com/en-us/research/publication/onion-identifying-incident-indicating-logs-for-cloud-systems/ class=external-link target=_blank rel=noopener>Onion: Identifying Incident-indicating Logs for Cloud Systems - Microsoft Research</a>&#160;<a href=#fnref:47 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:48><p><a href=https://www.microsoft.com/en-us/research/publication/uniparser-a-unified-log-parser-for-heterogeneous-log-data/ class=external-link target=_blank rel=noopener>UniParser: A Unified Log Parser for Heterogeneous Log Data - Microsoft Research</a>&#160;<a href=#fnref:48 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:49><p><a href=https://www.microsoft.com/en-us/research/publication/spine-a-scalable-log-parser-with-feedback-guidance/ class=external-link target=_blank rel=noopener>SPINE: A Scalable Log Parser with Feedback Guidance - Microsoft Research</a>&#160;<a href=#fnref:49 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:50><p><a href=https://ieeexplore.ieee.org/document/9527009 class=external-link target=_blank rel=noopener>TraceLingo: Trace representation and learning for performance issue diagnosis in cloud services | IEEE Conference Publication | IEEE Xplore</a>&#160;<a href=#fnref:50 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer><section class=see-also></section></footer></article></section></div><footer class=footer><section class=container>©
2024 -
2025
Junya Yamaguchi (@openjny)
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "0a99e4ebb1e342beb03db419a6eea4a6"}'></script></body></html>